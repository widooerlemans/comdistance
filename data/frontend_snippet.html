<!-- Minimal front-end fetch (drop into v9) -->
<script>
(async function loadCometDistances(){
  try{
    const url = "https://raw.githubusercontent.com/YOUR_USER/YOUR_REPO/main/data/comets_ephem.json";
    const res = await fetch(url, { cache: "no-store" });
    if (!res.ok) throw new Error("HTTP " + res.status);
    const data = await res.json();
    window.getCometDistanceAu = function(name){
      const it = data.items.find(x => (x.id || "").toLowerCase() === name.toLowerCase());
      if (!it || it.error) return null;
      return { r_au: it.r_au, delta_au: it.delta_au, vmag: it.vmag, epoch_utc: it.epoch_utc };
    };
    const t = document.querySelector("#comet-distances");
    if (t){
      const wanted = ["12P", "C/2023 A3"];
      const rows = wanted.map(w => {
        const d = window.getCometDistanceAu(w);
        if (!d) return `<div>${w}: (no data)</div>`;
        return `<div>${w}: r=${d.r_au.toFixed(3)} AU, Δ=${d.delta_au.toFixed(3)} AU, V≈${(d.vmag ?? NaN).toFixed ? d.vmag.toFixed(1) : "?"}</div>`;
      });
      t.innerHTML = rows.join("");
    }
    window.__COMET_JSON__ = data;
  }catch(err){
    console.error("Comet distances load failed:", err);
  }
})();
</script>
<div id="comet-distances"></div>
